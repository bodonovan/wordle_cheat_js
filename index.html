<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <title>Hello World Simple App</title>

    </head>
    <body>
        <div>
            <label for="posn">Position:</label>
            <input type="text" id="posn" name="posn" required minlength="1" maxlength="1" size="1" value="1"/>

            <label for="char">Character:</label>
            <input type="text" id="char" name="char" required minlength="1" maxlength="1" size="1" />

            <button type="button" onclick=match_clicked()> Match</button>

            <button type="button" onclick="alert('in clicked')">In</button>

            <button type="button" onclick="alert('out clicked')">Out</button>

            <button type="button" onclick="alert('clear clicked')">Clear</button>
        </div>
        <div> 
            <label for="possible_matches">Possible Matches:</label>
            <br/>
            <textarea id="possible_matches" name="possible_matches" rows="10" cols="60"></textarea>
        </div>
    <script>

    const MAX_WORDS = 25

    // alert('loading dictionary');

    //const dict = new Set(['aalii', 'Aaron', 'auger', 'Baume', 'bawds', 'xxx'])
	const dict = new Set([
	'aalii',
	'Aanis',
	'Aaron',
	'Aarus',
	'abacs',
	'abaca',
	'aback',
	'abaff',
	'abaft',
	'Abama',
	'abass',
	'abase',
	'abash',
	'abask',
	'abate',
	'abave',
	'abaze',
	'Abbas',
	'abbas',
	'abbey',
	'Abbie',
	'abbot',
	'Abbys',
    'becry',
	'becut',
	'bedad',
	'beday',
	'bedel',
	'beden',
	'bedew',
	'bedim',
	'bedin',
	'bedip',
	'bedog',
	'bedot',
	'bedub',
	'bedur',
	'bedye',
	'beech',
	'beefs',
	'beefy',
	'clays',
	'clead',
	'cleam',
	'clean',
	'clear',
	'cleat',
	'cleck',
	'cleds',
	'clees',
	'cleek',
	'clefs',
	'cleft',
	'clegs',
	'Clems',
	'clems',
	'cleps',
	'clerk',
	'cleve',
	'clews',
	'click',
	'Cliff',
	'cliff',
	'clift',
	'clima',
	'climb',
	'clime',
	'cline',
	'cling',

    ])

    // alert('loaded dictionary');
    console.log('dictionary contains '+dict.length+' entries');

    active_dict = dict;

    function write_possible() {
        console.log('Writing possible matches');
        return;
    }

    write_possible();

    function display_possible() {
        let text = "";

        wc = 0
        for (const word of active_dict) {
            wc += 1;
            if (wc>MAX_WORDS) {
                console.log ('reached word limit');
                text += " ...";
                break;
            }
            console.log("Adding word :"+word);
            text += word;
            text += " "
        }

        document.getElementById("possible_matches").innerHTML = text;

    }
    
    function clear_guess() {
        var active_dict = dict;
        display_possible();
    }

    clear_guess();

    function match_clicked() {
        // alert('match clicked again');
        match_char = document.getElementById("char").innerHTML
        if (1 != match_char.length) {
            alert("Specify a single character to match");
            return;
        } else {
            alert("Matching character "+match_char)
        }

    }


    </script>
    </body>
</html>